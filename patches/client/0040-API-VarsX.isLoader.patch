From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: way-zer <himc.wicp@gmail.com>
Date: Tue, 26 Mar 2024 19:50:47 +0800
Subject: [PATCH] API: VarsX.isLoader

---
 core/src/mindustryX/VarsX.java       | 5 +++++
 core/src/mindustryX/loader/Main.java | 1 +
 2 files changed, 6 insertions(+)
 create mode 100644 core/src/mindustryX/VarsX.java

diff --git a/core/src/mindustryX/VarsX.java b/core/src/mindustryX/VarsX.java
new file mode 100644
index 0000000000000000000000000000000000000000..69a28133bf43daa1b1e507ff5e2de415f5a45241
--- /dev/null
+++ b/core/src/mindustryX/VarsX.java
@@ -0,0 +1,5 @@
+package mindustryX;
+
+public class VarsX{
+    public static boolean isLoader = false;
+}
diff --git a/core/src/mindustryX/loader/Main.java b/core/src/mindustryX/loader/Main.java
index 9e19822ac2a4f6cee4306c62cfacd2e526f9c57c..d6fb9e5483066e2e147c247a6d25d7738bd33d2f 100644
--- a/core/src/mindustryX/loader/Main.java
+++ b/core/src/mindustryX/loader/Main.java
@@ -123,6 +123,7 @@ public class Main extends Mod{
         Log.logger = new NoopLogHandler();
         try{
             Thread.currentThread().setContextClassLoader(classLoader);
+            Reflect.set(classLoader.loadClass("mindustryX.VarsX"), "isLoader", true);
             impl.launch(classLoader);
             Thread.currentThread().interrupt();
         }catch(Exception e){
