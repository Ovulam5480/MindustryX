From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: way-zer <himc.wicp@gmail.com>
Date: Thu, 4 Apr 2024 13:27:21 +0800
Subject: [PATCH] C: fix console messages order

---
 core/src/mindustry/Vars.java | 4 ++++
 1 file changed, 4 insertions(+)

diff --git a/core/src/mindustry/Vars.java b/core/src/mindustry/Vars.java
index a74612c7ba97056cbaf6cd998ed10aaad973a8a5..c7692170f49fae761dc659225330c43c3ee04e3e 100644
--- a/core/src/mindustry/Vars.java
+++ b/core/src/mindustry/Vars.java
@@ -378,6 +378,10 @@ public class Vars implements Loadable{
                 if(!headless && (ui == null || ui.consolefrag == null)){
                     logBuffer.add(result);
                 }else if(!headless){
+                    if(!logBuffer.isEmpty()){
+                        logBuffer.each(ui.consolefrag::addMessage);
+                        logBuffer.clear();
+                    }
                     if(!OS.isWindows){
                         for(String code : ColorCodes.values){
                             result = result.replace(code, "");
