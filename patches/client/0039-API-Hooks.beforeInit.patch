From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: way-zer <himc.wicp@gmail.com>
Date: Wed, 3 Apr 2024 21:57:24 +0800
Subject: [PATCH] API: Hooks.beforeInit

---
 core/src/mindustry/Vars.java   | 1 +
 core/src/mindustryX/Hooks.java | 6 ++++++
 2 files changed, 7 insertions(+)

diff --git a/core/src/mindustry/Vars.java b/core/src/mindustry/Vars.java
index 498e222893f7e224cf87ba4d983df99efd181ae1..a74612c7ba97056cbaf6cd998ed10aaad973a8a5 100644
--- a/core/src/mindustry/Vars.java
+++ b/core/src/mindustry/Vars.java
@@ -259,6 +259,7 @@ public class Vars implements Loadable{
     }
 
     public static void init(){
+        mindustryX.Hooks.beforeInit();
         Groups.init();
 
         if(loadLocales){
diff --git a/core/src/mindustryX/Hooks.java b/core/src/mindustryX/Hooks.java
index 1ef82d96d3230f1d94548c473411f03cd007f19c..27bf6d34b21c289a516ecc94e1cc13bfbfbdfd2a 100644
--- a/core/src/mindustryX/Hooks.java
+++ b/core/src/mindustryX/Hooks.java
@@ -9,6 +9,12 @@ import mindustryX.features.*;
 import java.net.*;
 
 public class Hooks implements ApplicationListener{
+    /** invoke before `Vars.init`. Note that may be executed from `Vars.loadAsync` */
+    public static void beforeInit(){
+        Log.infoTag("MindustryX", "Hooks.beforeInit");
+    }
+
+    /** invoke after loading, just before `Mod::init` */
     @Override
     public void init(){
         Log.infoTag("MindustryX", "Hooks.init");
