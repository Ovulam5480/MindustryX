From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: way-zer <himc.wicp@gmail.com>
Date: Sat, 17 Feb 2024 13:56:18 +0800
Subject: [PATCH] ARC bundle and settings
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit

移除一些无效设置
way-zer <himc.wicp@gmail.com> on 2024/4/20 at 21:59
---
 core/assets/bundles/bundle-mdtx.properties    | 237 ++++++++++++++++++
 .../ui/dialogs/SettingsMenuDialog.java        |  28 +--
 core/src/mindustryX/features/ArcOld.java      | 221 ++++++++++++++++
 core/src/mindustryX/features/Settings.java    |   1 +
 4 files changed, 472 insertions(+), 15 deletions(-)
 create mode 100644 core/src/mindustryX/features/ArcOld.java

diff --git a/core/assets/bundles/bundle-mdtx.properties b/core/assets/bundles/bundle-mdtx.properties
index 623d778207282303a60e9efc99981131a99eb253..70ed79fdf385216999a98244f5128f6c47e29d78 100644
--- a/core/assets/bundles/bundle-mdtx.properties
+++ b/core/assets/bundles/bundle-mdtx.properties
@@ -77,3 +77,240 @@ category.developerMode.name = 特殊设置
 setting.renderMerge.name = 顶点合并渲染 [grey]实验性功能，可以减少Draws总数
 setting.renderSort.name = 渲染排序 [grey]多图集(Mod较多)情况下能够提升50%渲染性能，但可能造成渲染错误
 #end Settings
+
+bar.reloadDetail = 装填：{0}%
+bar.warmupDetail = 充能：{0}%
+bar.ammoDetail = 弹药：{0}/{1}
+
+marker.Mark.name = 标记
+marker.Gather.name = 集合
+marker.Attack.name = 攻击
+marker.Defend.name = 防御
+marker.What.name = 问号
+
+keybind.point.name = 标记
+keybind.lockonLastMark.name = 定位到上个标记点
+keybind.toggle_block_render.name = 切换建筑显示
+keybind.toggle_unit.name = 切换单位显示
+
+# 学术特色翻译
+ability.energyfield.maxtargets = [lightgray]最大目标: [white]{0}
+ability.energyfield.sametypehealmultiplier = [lightgray]同类回复: [white]{0}%
+ability.regen = 再生
+bar.drilltierreq = 需要{0}级的钻头(当前{1}级)
+bar.heatpercent = 热量: {0} [lightgray]({1}%)
+bar.powerbalance = 电力：{0}/s
+block.armored-duct.name = 装甲运输管
+block.build-tower.name = 建造枢纽
+block.duct-unloader.name = 管道卸载器
+block.large-shield-projector.name = 大型护盾投影
+block.overflow-duct.name = 溢流运输管
+block.regen-projector.name = 再生投影
+block.reinforced-bridge-conduit.name = 强化液体带桥
+block.reinforced-liquid-container.name = 强化液体容器
+block.reinforced-liquid-junction.name = 强化液体交叉器
+block.reinforced-liquid-router.name = 强化液体路由器
+block.reinforced-liquid-tank.name = 强化储液罐
+block.shield-projector.name = 护盾投影
+block.underflow-duct.name = 反溢运输管
+bullet.suppression = [stat]压制场 {0}[lightgray]s[]~{1}[lightgray]格
+command.boost = 助推
+mod.circulardependencies = [red]循环依赖
+mod.circulardependencies.details = 这个模组与一些前置模组彼此依赖。
+mod.incompletedependencies = [red]不完整的依赖
+mod.incompletedependencies.details = 这个模组因为缺少这些前置模组而无法加载： {0}.
+player.admin = 给予/收回管理员权限
+player.ban = 封禁
+player.kick = 踢出
+player.team = 更改队伍
+player.trace = 追踪
+radar.order = 排序方式：1/true 距离从小到大，其他从大到小，0/false 反之。
+rules.buildai = 敌方 AI 会建造建筑
+rules.buildaitier = AI 等级
+rules.unitcrashdamagemultiplier = 单位坠毁伤害倍率
+rules.waitForWaveToEnd = 等待波次结束[gray]所有敌人死亡后才会开始下一波次
+rules.wavelimit = 终结波次
+save.nocampaign = 无法导入单独的战役存档文件。
+schematic.edit = 编辑蓝图
+schematic.search = 搜索蓝图...
+schematic.tagged = {0} 个带标签的蓝图
+setting.blockreplace.name = 允许覆盖建筑
+setting.uiscale.name = UI缩放比例   [orange][重启生效]
+settings.reset = [red]全部恢复默认
+steam.friendsonly = 仅好友
+steam.friendsonly.tooltip = 是否只允许你的steam好友加入游戏？\n不启用该选项将使你的游戏公开——任何人都可以加入。
+toolmode.fillerase = 擦除方块
+toolmode.fillerase.description = 擦除相同种类的方块。
+trace.ips = 曾用IP：
+trace.names = 曾用名：
+unit.disrupt.name = 瓦解
+unit.incite.name = 激发
+unit.obviate.name = 影逝
+unit.quell.name = 终结
+votekick.reason = 踢人理由
+votekick.reason.message = 确定要踢出 "{0}[white]"?\n如果是， 输入理由：
+waves.filter = 单位筛选器
+waves.random = 随机
+waves.search = 搜索波次...
+
+# ARC增加或补充
+ability.armorplate = 护甲板
+ability.liquidexplode = 液体自爆
+ability.liquidregen = 液体回血
+ability.moveeffect = 移动特效
+bar.drillcantmine = 当前钻头不能挖掘此矿物
+block.fracture.name = 破裂
+category.arcAddBlockInfo.name = 更多建筑属性
+category.arcAddTurretInfo.name = 更多炮台属性
+category.arcAddUnitInfo.name = 更多单位属性
+category.arcCAssist.name = 辅助功能
+category.arcCDisplayBlock.name = 建筑显示
+category.arcCDisplayEffect.name = 特效与效果
+category.arcCGraphicsOther.name = 其他
+category.arcCOverview.name = 全局设置
+category.arcCgameview.name = 游戏画面
+category.arcCgamewindow.name = 游戏界面
+category.arcHudToolbox.name = 主游戏界面
+category.arcMassDriverInfo.name = 质驱引导线
+category.arcPlayerEffect.name = 玩家炫酷特效
+category.arcRTSSupporter.name = RTS支持器
+category.arcRadar.name = 雷达扫描设置 [lightgray](PC按键，手机辅助器)
+category.arcShareinfo.name = 多人游玩设置
+category.arcStrongCheat.name = [red]强作弊功能
+category.arcWeakCheat.name = 弱作弊功能
+category.combat = 战斗
+category.moreContent.name = 更多内容适配
+category.movement = 移动
+category.personalized.name = 自定义客户端     [需要重启]
+category.support = 支援
+confirmvotekick = 确定投票踢出玩家“{0}[white]”？
+content.planet.name = 星球
+content.weather.name = 天气
+keybind.arcDetail.name = 雷达扫描
+keybind.arcScanMode.name = 扫描详情
+keybind.oreAdsorption.name = 矿物自动吸附
+keybind.showRTSAi.name = 显示单位控制
+keybind.superUnitEffect.name = 显示玩家射程
+revealedblocks = [acid]显示建筑
+rules.aiCoreSpawn = [acid]核心生成AI
+rules.canGameOver = [acid]能否自动结束游戏[gray](如果没有其他结束游戏的方法，不推荐开启)
+rules.cheat = [acid]作弊模式
+rules.coreDestroyClear = [acid]核心被破坏清理附近建筑
+rules.disableOutsideArea = [acid]禁用场外区域
+rules.dynamicColor = 战争迷雾颜色-曾探索
+rules.hiddenBuildItems = [acid]隐藏需要所选材料建造的建筑
+rules.infiniteAmmo = [acid]单位无限子弹
+rules.logicUnitBuild = [acid]逻辑控制单位建造
+rules.showSpawns = [acid]显示刷怪点
+rules.staticColor = 战争迷雾颜色-未探索
+rules.title.arcExperimental = 隐藏设置[red](实验性功能，可能影响稳定性)
+rules.unitPayloadUpdate = [acid]单位携带的方块会工作
+rules.winWave = [acid]胜利波次  [gray](到达指定波次后自动停止)
+schematic.preview = 预览
+setting.AuxiliaryTable.name = [acid]辅助器     [orange][重启生效]
+setting.ShowInfoPopup.name = [acid]服务器信息版
+setting.allBlocksReveal.name = [cyan]显示并允许建造所有物品
+setting.alwaysShowPlayerUnit.name = [cyan]强制显示[white]:玩家本体及带领的单位
+setting.alwaysShowUnitRTSAi.name = [acid]单位[white]：执行的RTS命令
+setting.alwaysshowdropzone.name = [cyan]刷怪点
+setting.arcAlwaysTeamColor.name = [acid]玩家列表[white]：总是绘制队伍颜色
+setting.arcBackgroundPath.name = [cyan]首页背景路径
+setting.arcBuildInfo.name = [cyan]建造范围
+setting.arcCommandTable.name = [acid]RTS辅助器     [lightgray]替代原版
+setting.arcCoreItemsCol.name = [acid]arc核心物资列数
+setting.arcDisableModWarning.name = [orange]我已知晓且同意学术端的mod使用原则
+setting.arcDrillProgress.name = [acid]钻头[white]：显示挖掘进度      [gray]只推荐mod下使用
+setting.arcSelfName.name = [acid]显示自身名字
+setting.arcShareWaveInfo.name = [acid]游戏信息交流[gray](标记物品)  [red]请勿刷屏
+setting.arcSpecificTable.name = [acid]学术端特制界面     [orange][重启生效]
+setting.arcTurretPlacementItem.name = [pink]炮台[white]：弹药射界
+setting.arccoreitems.name = [acid]arc核心物资   [gray]点击电量条
+setting.arcdrillmode.name = [acid]钻头[white]：常亮矿物
+setting.arclogicbordershow.name = [acid]显示屏与画板[white]：边框       [gray]关闭后多个显示屏会更好得拼接在一起
+setting.arcvol.name = [acid]音量[white]：学术音效
+setting.autoSelSchematic.name = [cyan]蓝图自动选择器      [orange]自动筛选包含选中物品的蓝图
+setting.blockBars.name = [acid]建筑属性
+setting.blockBars_mend.name = [acid]修复[white]：进度条
+setting.blockInventoryWidth.name = [cyan]建筑物品栏每行物品数
+setting.blockWeaponTargetLine.name = [acid]炮台[white]：瞄准线
+setting.blockWeaponTargetLineWhenIdle.name = [acid]炮台[white]：瞄准线（闲置）
+setting.blockdisabled.name = [cyan]建筑禁用显示
+setting.chatValidType.name = [acid]聊天记录
+setting.colorizedContent.name = [orange]彩[yellow]色[acid]属[cyan]性[violet]包
+setting.developMode.name = [red]开发者模式  [orange]不完善|测试中的功能，普通用户请不要打开。欢迎提出修复方案
+setting.displayblock.name = [cyan]工厂方块
+setting.editorBrush.name = [acid]编辑器[white]：每行建筑数
+setting.fontSet.name = [cyan]字体设置！
+setting.fontSize.name = [cyan]字体大小！
+setting.forceConfigInventory.name = [acid]功能[white]：强制拿取资源
+setting.forceEnableDarkness.name = [cyan]墙体阴影显示
+setting.forceIgnoreAttack.name = [violet]战役[white]：忽视遭受攻击警告强行切换区块
+setting.hoveredTileInfo.name = [acid]显示鼠标指针地块/建筑名称
+setting.itemSelectionHeight.name = [cyan]建筑选择框行数
+setting.itemSelectionWidth.name = [cyan]建筑选择框列数
+setting.limitdst.name = [cyan]视角外更新范围
+setting.limitupdate.name = [cyan]限制更新
+setting.logicSupport.name = [acid]逻辑辅助器
+setting.logicoverrangelink.name = [red]超级逻辑链接     [yellow][仅限单机有效]
+setting.mass_driver_line.name = 显示质驱引导线
+setting.mass_driver_line_color.name = [pink]质驱引导线[white]：颜色
+setting.mass_driver_line_interval.name = [acid]质驱引导线[white]：箭头间隔
+setting.mend_zone.name = [acid]修复范围[white]：不透明度
+setting.oneBlockProperty.name = [acid]复制单个建筑时展示属性       [orange]无需要不建议开启，会导致属性丢失
+setting.otherCheat.name = [red]其他作弊功能(游戏外)
+setting.overrideSkipWave.name = [acid]功能[white]：忽视跳波限制
+setting.override_boss_shown.name = [cyan]boss血条
+setting.overridebuild.name = [cyan]强制覆盖建筑与墙体      [yellow][仅限单机有效]
+setting.playerEffectColor.name = [acid]玩家射程[white]：颜色
+setting.playerEffectCurStroke.name = [acid]玩家射程[white]：粗细
+setting.playerNeedShooting.name = [red]时间管理大师
+setting.powerStatistic.name = [acid]电量统计     [orange][重启生效]
+setting.quickHudSize.name = [acid]快捷视角    [gray]快捷切换视角，屏幕下侧
+setting.radarMode.name = [acid]雷达模式
+setting.radarSize.name = [acid]雷达大小
+setting.rotateCanvas.name = 蓝图旋转时会旋转画板内容 [orange]可能导致崩溃，小心使用
+setting.rtsWoundUnit.name = [acid]单位筛选[white]：残血阈值
+setting.save_more_map.name = [acid]保存战役与编辑器地图
+setting.selectTeam.name = [acid]显示[white]：[red]选择队伍框    [yellow][仅限单机有效]
+setting.showFlyerSpawn.name = [cyan]空军刷怪点
+setting.showFlyerSpawnLine.name = [cyan]空军刷怪点连线
+setting.showOtherTeamResource.name = [acid]显示[white]：[red]所有队伍资源     [orange][PVP自动禁用]
+setting.showOtherTeamState.name = [acid]显示[white]：[red]其他并可修改队伍状态  [orange][PVP自动禁用][yellow][修改仅限单机有效]
+setting.showQuickToolTable.name = [acid]快捷工具    [gray]快捷聊天/设置与建筑相关
+setting.showTurretAmmo.name = [acid]炮台[white]：子弹类型
+setting.showTurretAmmoAmount.name = [acid]炮台[white]：子弹数量
+setting.superUnitEffect.name = [pink]玩家特效射程
+setting.turretAlertRange.name = [acid]炮台[white]：警告范围
+setting.turretForceShowRange.name = [acid]炮台[white]：强制显示射程  [gray]可用于在编辑器下显示射程
+setting.turretShowRange.name = [acid]炮台[white]：射程
+setting.unitBarDrawMinHealth.name = [acid]单位属性[white]：最低血量
+setting.unitDrawMinHealth.name = [cyan]单位显示[white]：最低血量
+setting.unitHealthBar.name = [acid]单位属性
+setting.unitItemCarried.name = [acid]单位携带的物品
+setting.unitLogicMoveLine.name = [acid]控制[white]：移动路径
+setting.unitLogicTimerBars.name = [acid]控制[white]：时间条
+setting.unitTargetType.name = [pink]玩家的目标风格
+setting.unitTransparency.name = [cyan]单位[white]：不透明度
+setting.unitWeaponRange.name = [acid]单位武器射程[white]：范围警告
+setting.unitWeaponRangeAlpha.name = [acid]单位武器射程[white]：不透明度
+setting.unitWeaponTargetLine.name = [acid]单位武器目标
+setting.unitbuildplan.name = [acid]单位[white]：建造序列显示
+setting.unithitbox.name = [acid]单位碰撞箱
+setting.worldCreator.name = [cyan]创世神   [gray]可放置与删除地形
+settings.arc = [cyan]学术端！
+settings.cheating = [red]作弊功能
+settings.forcehide = [orange]帧率重调装置
+settings.maxMsgRecorded.name = 最大聊天记录数
+settings.specmode = [acid]更多内容适配
+shield.phaseboost = [stat]+{0}[lightgray] 格 [stat]+{1}[] 护盾容量
+shield.regenspeed = [stat]{0}[lightgray]x 回复速度
+team.neoplastic.name = 瘤
+unit.anthicus-missile.name = 天灾导弹
+unit.disrupt-missile.name = 瓦解导弹
+unit.quell-missile.name = 终结导弹
+unit.scathe-missile.name = 创伤导弹
+waves.duplicate = 复制
+waves.group = 组
+waves.group.effect = 添加状态
+waves.group.items = 添加物品
+waves.group.payloads = 添加载荷
diff --git a/core/src/mindustry/ui/dialogs/SettingsMenuDialog.java b/core/src/mindustry/ui/dialogs/SettingsMenuDialog.java
index b93dced65be5c1eea38adc80f8dc2d84c2b3864d..b71452eca5b3527f0c2ee15edd8d6ef01ab4365d 100644
--- a/core/src/mindustry/ui/dialogs/SettingsMenuDialog.java
+++ b/core/src/mindustry/ui/dialogs/SettingsMenuDialog.java
@@ -303,8 +303,8 @@ public class SettingsMenuDialog extends BaseDialog{
 
         game.sliderPref("saveinterval", 60, 10, 5 * 120, 10, i -> Core.bundle.format("setting.seconds", i));
 
+        game.checkPref("autotarget", true);
         if(mobile){
-            game.checkPref("autotarget", true);
             if(!ios){
                 game.checkPref("keyboard", false, val -> {
                     control.setInput(val ? new DesktopInput() : new MobileInput());
@@ -338,11 +338,9 @@ public class SettingsMenuDialog extends BaseDialog{
         game.checkPref("hints", true);
         game.checkPref("logichints", true);
 
-        if(!mobile){
-            game.checkPref("backgroundpause", true);
-            game.checkPref("buildautopause", false);
-            game.checkPref("distinctcontrolgroups", true);
-        }
+        game.checkPref("backgroundpause", true);
+        game.checkPref("buildautopause", false);
+        game.checkPref("distinctcontrolgroups", true);
 
         game.checkPref("doubletapmine", false);
         game.checkPref("commandmodehold", true);
@@ -364,9 +362,9 @@ public class SettingsMenuDialog extends BaseDialog{
             }
         }
 
-        if(!mobile){
-            game.checkPref("console", false);
-        }
+        game.checkPref("console", false);
+
+        graphics.addCategory("arcCOverview");
 
         int[] lastUiScale = {settings.getInt("uiscale", 100)};
 
@@ -445,18 +443,18 @@ public class SettingsMenuDialog extends BaseDialog{
         graphics.checkPref("destroyedblocks", true);
         graphics.checkPref("blockstatus", false);
         graphics.checkPref("playerchat", true);
-        if(!mobile){
-            graphics.checkPref("coreitems", true);
-        }
+
+        graphics.addCategory("arcCgamewindow");
+        graphics.checkPref("coreitems", true);
         graphics.checkPref("minimap", !mobile);
         graphics.checkPref("smoothcamera", true);
         graphics.checkPref("position", false);
-        if(!mobile){
-            graphics.checkPref("mouseposition", false);
-        }
+        graphics.checkPref("mouseposition", false);
         graphics.checkPref("fps", false);
         graphics.checkPref("playerindicators", true);
         graphics.checkPref("indicators", true);
+
+        graphics.addCategory("arcCGraphicsOther");
         graphics.checkPref("showweather", true);
         graphics.checkPref("animatedwater", true);
 
diff --git a/core/src/mindustryX/features/ArcOld.java b/core/src/mindustryX/features/ArcOld.java
new file mode 100644
index 0000000000000000000000000000000000000000..ad69511c62759552d9611ed901d0ef8bc4accbc8
--- /dev/null
+++ b/core/src/mindustryX/features/ArcOld.java
@@ -0,0 +1,221 @@
+package mindustryX.features;
+
+import arc.func.*;
+import arc.graphics.*;
+import arc.struct.*;
+import arc.util.*;
+import mindustry.gen.*;
+import mindustry.graphics.*;
+import mindustryX.features.Settings.*;
+import mindustryX.features.ui.*;
+
+import static arc.Core.settings;
+import static mindustry.Vars.*;
+
+public class ArcOld{
+    public static void init(Seq<LazySettingsCategory> categories){
+        categories.add(new LazySettingsCategory("@settings.arc", () -> Icon.star, (c) -> {
+            c.addCategory("arcHudToolbox");
+            c.sliderPref("AuxiliaryTable", 0, 0, 3, 1, s -> switch(s){
+                case 0 -> "关闭";
+                case 1 -> "左上-右";
+                case 2 -> "左上-下";
+                case 3 -> "右上-下";
+                default -> "";
+            });
+            c.checkPref("arcSpecificTable", true);
+            c.checkPref("logicSupport", true);
+            c.checkPref("powerStatistic", true);
+            c.sliderPref("arccoreitems", 3, 0, 3, 1, s -> switch(s){
+                case 0 -> "不显示";
+                case 1 -> "资源状态";
+                case 2 -> "兵种状态";
+                default -> "显示资源和兵种";
+            });
+            c.sliderPref("arcCoreItemsCol", 5, 4, 15, 1, i -> i + "列");
+            c.checkPref("showQuickToolTable", true);
+
+            c.addCategory("arcCgameview");
+            c.checkPref("hoveredTileInfo", false);
+            c.checkPref("alwaysshowdropzone", false);
+            c.checkPref("showFlyerSpawn", false);
+            c.checkPref("showFlyerSpawnLine", false);
+            c.checkPref("bulletShow", true);
+            if(Shaders.shield != null){
+                c.checkPref("staticShieldsBorder", false);
+            }
+
+            c.addCategory("arcCDisplayBlock");
+            c.sliderPref("blockRenderLevel", 2, 0, 2, 1, s -> switch(s){
+                case 0 -> "隐藏全部建筑";
+                case 1 -> "只显示建筑状态";
+                default -> "全部显示";
+            });
+            c.checkPref("forceEnableDarkness", true, (b) -> enableDarkness = b);
+            enableDarkness = settings.getBool("forceEnableDarkness");
+            c.sliderPref("HiddleItemTransparency", 0, 0, 100, 2, i -> i > 0 ? i + "%" : "关闭");
+            c.sliderPref("overdrive_zone", 0, 0, 100, 2, i -> i > 0 ? i + "%" : "关闭");
+            c.sliderPref("mend_zone", 0, 0, 100, 2, i -> i > 0 ? i + "%" : "关闭");
+            c.checkPref("blockdisabled", false);
+            c.checkPref("blockBars", false);
+            c.sliderPref("blockbarminhealth", 0, 0, 4000, 50, i -> i + "[red]HP");
+            c.checkPref("blockBars_mend", false);
+            c.checkPref("arcdrillmode", false);
+            c.checkPref("arcDrillProgress", false);
+            c.checkPref("arcchoiceuiIcon", false);
+            c.checkPref("arclogicbordershow", true);
+            c.checkPref("arcPlacementEffect", false);
+
+            c.checkPref("mass_driver_line", true);
+            c.sliderPref("mass_driver_line_interval", 40, 8, 400, 4, i -> i / 8f + "格");
+            {
+                Cons<String> changed = (t) -> {
+                    try{
+                        RenderExt.massDriverLineColor = Color.valueOf(t);
+                    }catch(Exception e){
+                        RenderExt.massDriverLineColor = Color.valueOf("ff8c66");
+                    }
+                };
+                c.textPref("mass_driver_line_color", "ff8c66", changed);
+                changed.get(settings.getString("mass_driver_line_color"));
+            }
+
+            c.addCategory("arcAddTurretInfo");
+            c.checkPref("showTurretAmmo", false);
+            c.checkPref("showTurretAmmoAmount", false);
+            c.checkPref("arcTurretPlacementItem", false);
+            c.checkPref("arcTurretPlaceCheck", false);
+            c.sliderPref("turretShowRange", 0, 0, 3, 1, s -> switch(s){
+                case 0 -> "关闭";
+                case 1 -> "仅对地";
+                case 2 -> "仅对空";
+                case 3 -> "全部";
+                default -> "";
+            });
+            c.checkPref("turretForceShowRange", false);
+            c.sliderPref("turretAlertRange", 0, 0, 30, 1, i -> i > 0 ? i + "格" : "关闭");
+            c.checkPref("blockWeaponTargetLine", false);
+            c.checkPref("blockWeaponTargetLineWhenIdle", false);
+
+            c.addCategory("arcAddUnitInfo");
+            c.checkPref("alwaysShowPlayerUnit", false);
+
+            c.sliderPref("unitTransparency", 100, 0, 100, 5, i -> i > 0 ? i + "%" : "关闭");
+            c.sliderPref("unitDrawMinHealth", settings.getInt("minhealth_unitshown", 0), 0, 2500, 50, i -> i + "[red]HP");
+
+            c.checkPref("unitHealthBar", false);
+            c.sliderPref("unitBarDrawMinHealth", settings.getInt("minhealth_unithealthbarshown", 0), 0, 2500, 100, i -> i + "[red]HP");
+
+
+            c.sliderPref("unitWeaponRange", settings.getInt("unitAlertRange", 0), 0, 30, 1, s -> switch(s){
+                case 0 -> "关闭";
+                case 30 -> "一直开启";
+                default -> s + "格";
+            });
+            c.sliderPref("unitWeaponRangeAlpha", settings.getInt("unitweapon_range", 0), 0, 100, 1, i -> i > 0 ? i + "%" : "关闭");
+
+            c.checkPref("unitWeaponTargetLine", false);
+            c.checkPref("showminebeam", true);
+            c.checkPref("unitItemCarried", true);
+            c.checkPref("unithitbox", false);
+            c.checkPref("unitLogicMoveLine", false);
+            c.checkPref("unitLogicTimerBars", false);
+            c.checkPref("arcBuildInfo", false);
+            c.checkPref("unitbuildplan", false);
+            c.checkPref("arcCommandTable", true);
+            c.checkPref("alwaysShowUnitRTSAi", false);
+            c.sliderPref("rtsWoundUnit", 0, 0, 100, 2, s -> s + "%");
+
+            c.addCategory("arcPlayerEffect");
+            c.textPref("playerEffectColor", "ffd37f");
+            c.sliderPref("unitTargetType", 0, 0, 5, 1, s -> switch(s){
+                case 0 -> "关闭";
+                case 1 -> "虚圆";
+                case 2 -> "攻击";
+                case 3 -> "攻击去边框";
+                case 4 -> "圆十字";
+                case 5 -> "十字";
+                default -> s + "";
+            });
+            c.sliderPref("superUnitEffect", 0, 0, 2, 1, s -> switch(s){
+                case 0 -> "关闭";
+                case 1 -> "独一无二";
+                case 2 -> "全部玩家";
+                default -> s + "";
+            });
+            c.sliderPref("playerEffectCurStroke", 0, 1, 30, 1, i -> (float)i / 10f + "Pixel(s)");
+
+
+            c.addCategory("arcShareinfo");
+            c.sliderPref("chatValidType", 0, 0, 3, 1, s -> switch(s){
+                case 0 -> "原版模式";
+                case 1 -> "纯净聊天";
+                case 2 -> "服务器记录";
+                case 3 -> "全部记录";
+                default -> s + "";
+            });
+            c.checkPref("ShowInfoPopup", true);
+            c.checkPref("arcShareWaveInfo", false);
+            c.checkPref("arcAlwaysTeamColor", false);
+            c.checkPref("arcSelfName", false);
+
+            c.addCategory("arcWeakCheat");
+            c.checkPref("save_more_map", false);
+            c.checkPref("forceIgnoreAttack", false);
+            c.checkPref("allBlocksReveal", false, b -> AdvanceToolTable.allBlocksReveal = b);
+            AdvanceToolTable.allBlocksReveal = settings.getBool("allBlocksReveal");
+            c.checkPref("worldCreator", false, b -> AdvanceToolTable.worldCreator = b);
+            AdvanceToolTable.worldCreator = settings.getBool("worldCreator");
+            c.checkPref("overrideSkipWave", false);
+            c.checkPref("forceConfigInventory", false);
+            c.addCategory("arcStrongCheat");
+            c.checkPref("showOtherTeamResource", false);
+            c.checkPref("showOtherTeamState", false);
+            c.checkPref("playerNeedShooting", false);
+        }));
+        categories.add(new LazySettingsCategory("@settings.specmode", () -> Icon.info, (c) -> {
+            c.addCategory("moreContent");
+            c.checkPref("override_boss_shown", false);
+            c.sliderPref("minimapSize", 140, 40, 400, 10, i -> i + "");
+            c.sliderPref("maxSchematicSize", 64, 64, 257, 1, v -> {
+                maxSchematicSize = v == 257 ? Integer.MAX_VALUE : v;
+                return v == 257 ? "无限" : String.valueOf(v);
+            });
+            c.sliderPref("itemSelectionHeight", 4, 4, 12, i -> i + "行");
+            c.sliderPref("itemSelectionWidth", 4, 4, 12, i -> i + "列");
+            c.sliderPref("blockInventoryWidth", 3, 3, 16, i -> i + "");
+            c.sliderPref("editorBrush", 4, 3, 12, i -> i + "");
+            c.checkPref("autoSelSchematic", false);
+            c.checkPref("researchViewer", false);
+
+
+            c.addCategory("arcRadar");
+            c.sliderPref("radarMode", 0, 0, 30, 1, s -> switch(s){
+                case 0 -> "关闭";
+                case 30 -> "一键开关";
+                default -> "[lightgray]x[white]" + Strings.autoFixed(s * 0.2f, 1) + "倍搜索";
+            });
+            c.sliderPref("radarSize", 0, 0, 50, 1, s -> {
+                if(s == 0) return "固定大小";
+                return "[lightgray]x[white]" + Strings.autoFixed(s * 0.1f, 1) + "倍";
+            });
+
+            c.addCategory("personalized");
+            c.checkPref("menuFloatText", true);
+            c.checkPref("colorizedContent", false);
+            c.textPref("arcBackgroundPath", "");
+
+            c.addCategory("developerMode");
+            c.checkPref("rotateCanvas", false);
+            c.checkPref("limitupdate", false, v -> {
+                if(!v) return;
+                settings.put("limitupdate", false);
+                ui.showConfirm("确认开启限制更新", "此功能可以大幅提升fps，但会导致视角外的一切停止更新\n在服务器里会造成不同步\n强烈不建议在单人开启\n\n[darkgray]在帧数和体验里二选一", () -> {
+                    settings.put("limitupdate", true);
+                });
+            });
+            c.sliderPref("limitdst", 10, 0, 100, 1, s -> s + "格");
+            c.checkPref("developMode", false);
+        }));
+    }
+}
diff --git a/core/src/mindustryX/features/Settings.java b/core/src/mindustryX/features/Settings.java
index 16e86681d53afc40025ca4376d490d1cb574b786..e39fe4572259cc157de0351765ff7b6f75ad1696 100644
--- a/core/src/mindustryX/features/Settings.java
+++ b/core/src/mindustryX/features/Settings.java
@@ -74,6 +74,7 @@ public class Settings{
             c.checkPref("renderMerge", true);
             c.checkPref("renderSort", false);
         }));
+        ArcOld.init(categories);
         Events.on(ClientLoadEvent.class, e -> {
             categories.each(LazySettingsCategory::init);
             Vars.ui.settings.getCategories().addAll(categories);
