From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: way-zer <himc.wicp@gmail.com>
Date: Thu, 4 Apr 2024 13:27:21 +0800
Subject: [PATCH] C: fix console messages order

---
 core/src/mindustry/Vars.java | 4 ++++
 1 file changed, 4 insertions(+)

diff --git a/core/src/mindustry/Vars.java b/core/src/mindustry/Vars.java
index 498e222893f7e224cf87ba4d983df99efd181ae1..313874de35d6cf5cc7a2cc5b06e7950fca2eede2 100644
--- a/core/src/mindustry/Vars.java
+++ b/core/src/mindustry/Vars.java
@@ -377,6 +377,10 @@ public class Vars implements Loadable{
                 if(!headless && (ui == null || ui.consolefrag == null)){
                     logBuffer.add(result);
                 }else if(!headless){
+                    if(!logBuffer.isEmpty()){
+                        logBuffer.each(ui.consolefrag::addMessage);
+                        logBuffer.clear();
+                    }
                     if(!OS.isWindows){
                         for(String code : ColorCodes.values){
                             result = result.replace(code, "");
