From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: way-zer <himc.wicp@gmail.com>
Date: Mon, 2 Sep 2024 21:56:38 +0800
Subject: [PATCH] API: more error log

---
 core/src/mindustry/core/Control.java    | 1 +
 core/src/mindustry/core/World.java      | 1 +
 core/src/mindustry/game/FogControl.java | 4 +++-
 3 files changed, 5 insertions(+), 1 deletion(-)

diff --git a/core/src/mindustry/core/Control.java b/core/src/mindustry/core/Control.java
index a21b6481c1c56691bb8feeb49afce672e7e73811..c137750c3a21e78068a24f7dfe829a66c9cb46ff 100644
--- a/core/src/mindustry/core/Control.java
+++ b/core/src/mindustry/core/Control.java
@@ -615,6 +615,7 @@ public class Control implements ApplicationListener, Loadable{
         try{
             assets.update();
         }catch(Exception ignored){
+            Log.err(ignored);
         }
 
         input.updateState();
diff --git a/core/src/mindustry/core/World.java b/core/src/mindustry/core/World.java
index 92e3e46a8c064c438329ad877252c4c6fdb95c4d..1c3ec5dd262585077bf7e1043249f090a83bd53d 100644
--- a/core/src/mindustry/core/World.java
+++ b/core/src/mindustry/core/World.java
@@ -233,6 +233,7 @@ public class World{
     }
 
     public Rect getQuadBounds(Rect in){
+        if(height() == 0) throw new Error("World is empty");
         return in.set(-finalWorldBounds, -finalWorldBounds, width() * tilesize + finalWorldBounds * 2, height() * tilesize + finalWorldBounds * 2);
     }
 
diff --git a/core/src/mindustry/game/FogControl.java b/core/src/mindustry/game/FogControl.java
index 0753b44ee87fc2ffb5201a5dc4cef4055d9d463c..9e22fbe55e2c2e51dd03f128a2e15fed7f87cc55 100644
--- a/core/src/mindustry/game/FogControl.java
+++ b/core/src/mindustry/game/FogControl.java
@@ -311,7 +311,9 @@ public final class FogControl implements CustomChunk{
 
                     updateStatic();
                     //ignore, don't want to crash this thread
-                }catch(Exception e){}
+                }catch(Exception e){
+                    Log.err(e);
+                }
             }
         }
     }
