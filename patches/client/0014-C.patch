From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: way-zer <himc.wicp@gmail.com>
Date: Wed, 24 Jan 2024 21:40:17 +0800
Subject: [PATCH] =?UTF-8?q?C:=20=E5=8A=A8=E6=80=81=E6=B8=B8=E6=88=8F?=
 =?UTF-8?q?=E6=A0=87=E9=A2=98?=
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit

---
 core/src/mindustry/ClientLauncher.java | 14 ++++++++++++++
 1 file changed, 14 insertions(+)

diff --git a/core/src/mindustry/ClientLauncher.java b/core/src/mindustry/ClientLauncher.java
index 7e0757047006ed5d6e8b1165124b7de90a8e037d..f195945461e87f5a3353ef0d5e8d229d163c8f2e 100644
--- a/core/src/mindustry/ClientLauncher.java
+++ b/core/src/mindustry/ClientLauncher.java
@@ -236,6 +236,8 @@ public abstract class ClientLauncher extends ApplicationCore implements Platform
                 }))));
             }
         }else{
+            updateTitle();
+
             asyncCore.begin();
 
             super.update();
@@ -252,6 +254,18 @@ public abstract class ClientLauncher extends ApplicationCore implements Platform
         }
     }
 
+    private String lastTitle = "";
+    private void updateTitle(){
+        var mod = mods.orderedMods();
+        var title = "MindustryX | 版本号 " + Version.mdtXBuild +
+        " | mod启用" + mod.count(Mods.LoadedMod::enabled) + "/" + mod.size +
+        " | " + (Core.graphics != null ? Core.graphics.getWidth() + "x" + Core.graphics.getHeight() : "");
+        if(!title.equals(lastTitle)){
+            lastTitle = title;
+            graphics.setTitle(title);
+        }
+    }
+
     @Override
     public void exit(){
         //on graceful exit, finish the launch normally.
