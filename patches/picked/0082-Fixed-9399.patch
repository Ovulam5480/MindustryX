From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: Anuken <arnukren@gmail.com>
Date: Fri, 22 Dec 2023 19:50:39 -0500
Subject: [PATCH] Fixed #9399

(cherry picked from commit d8da46af879e4b810dfc533875d24978c3db55e0)
---
 core/src/mindustry/world/blocks/payloads/BuildPayload.java | 7 +++++--
 1 file changed, 5 insertions(+), 2 deletions(-)

diff --git a/core/src/mindustry/world/blocks/payloads/BuildPayload.java b/core/src/mindustry/world/blocks/payloads/BuildPayload.java
index e232df7d58be3ea7b29cb8bfb81eb4ba4f30f2ac..42f79374ade6b45593280fc3fde5f885763c9fa5 100644
--- a/core/src/mindustry/world/blocks/payloads/BuildPayload.java
+++ b/core/src/mindustry/world/blocks/payloads/BuildPayload.java
@@ -98,10 +98,13 @@ public class BuildPayload implements Payload{
     @Override
     public void draw(){
         float prevZ = Draw.z();
-        Draw.z(prevZ - 0.0001f);
+        Draw.z(prevZ - 0.001f);
         drawShadow(1f);
         Draw.z(prevZ);
-        Draw.zTransform(z -> z >= Layer.flyingUnitLow + 1f ? z : 0.0011f + Math.min(Mathf.clamp(z, prevZ - 0.001f, prevZ + 0.9f), Layer.flyingUnitLow - 1f));
+        Draw.zTransform(z ->
+            z >= Layer.flyingUnitLow + 1f ? z :
+            0.0011f + Math.min(Mathf.clamp((z - prevZ)/100f, -0.0009f, 0.9f) + prevZ, Layer.flyingUnitLow - 1f)
+        );
         build.tile = emptyTile;
         build.payloadDraw();
         Draw.zTransform();
